<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>user-manual - orientsoft</title>

  <link rel="shortcut icon" href="/styles/images/favicon.jpg">
  <link rel="icon" href="/styles/images/favicon.jpg">

  <link rel="stylesheet" href="/styles/css/index.css">
  <link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/styles/css/syntax.css">
  <link rel="canonical" href="/2017/06/20/user-manual/">
  <link rel="alternate" type="application/rss+xml" title="orientsoft" href="/feed.xml">

  <meta name="keywords" content="user-manual, orientsoft, 康志华;个人博客;学而不思则罔;思而不学则殆;生命不止;折腾不休">
  <meta name="description" content="康志华;个人博客;学而不思则罔;思而不学则殆;生命不止;折腾不休">

  <script src="/styles/js/jquery.min.js"></script>
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?94be4b0f9fc5d94cc0d0415ea6761ae9";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
  <style type="text/css">
    .docs-content{
      margin-bottom: 10px;
    }
  </style>
</head>

<body class="index">

<header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.png">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <!--<li>-->
        <!--<a href="/">Home</a>-->
        <!--</li>-->
        <li>
          <a href="/categories/">Home</a>
        </li>
        <!--<li>-->
        <!--<a href="/tag">小类内聚</a>-->
        <!--</li>-->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <!--<li>-->
        <!--<a><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></a>-->
        <!--</li>-->
        <!--<li>-->
        <!--<a href="/donate/"><strong>打赏</strong></a>-->
        <!--</li>-->
        <!--<li class="dropdown">-->
        <!--<a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>-->
        <!--<ul class="dropdown-menu">-->
        <!--<li><a rel="nofollow" target="_blank" href="https://github.com/luoyan35714/">Github</a></li>-->
        <!--<li><a rel="nofollow" target="_blank" href="http://www.hifreud.com/Resume.io/">关于作者</a></li>-->
        <!--<li><a rel="nofollow" href="/books">我的书单</a></li>-->
        <!--<li><a rel="nofollow" href="http://www.hifreud.com/domains/">域名管理</a></li>-->
        <!--<li><a rel="nofollow" href="/reference">推荐博客</a></li>-->
        <!--<li><a href="/feed.xml">RSS订阅</a></li>-->
        <!--<li class="divider"></li>-->
        <!--<li><a rel="nofollow" target="_blank" href="https://github.com/luoyan35714/LessOrMore.git">本项目</a></li>-->
        <!--</ul>-->
        <!--</li>-->
      </ul>
    </nav>
  </div>
</header>
<div class="docs-header" id="content">
  <div class="container">
    
    <!--
      <h1>user-manual</h1>
      <p>Post on Jun 20, 2017 by <a href="/about">orientsoft</a></p>
  -->
    <!--<h1></h1>-->
    
  </div>
</div>


<!--<div class="banner">-->
<!--<div class="container">-->
<!---->
<!--<a href="/categories/#document-ref">document</a>	/-->
<!--&lt;!&ndash;<a href="/tag/#教程-ref">教程</a>&ndash;&gt;-->
<!---->
<!--</div>-->
<!--</div>-->



<div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2017">2017</a>
          <ul class="nav">
            <li><a href="#month_2017_June">June</a></li>
      

      
            
          
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div>
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
          <header class="post-header">
            <h1 class="post-title">user-manual</h1>
            <!--
              <p class="post-meta">Jun 20, 2017</p>
            -->
            <div class="meta">Posted on <span class="postdate">Jun 20, 2017</span> By <a target="_blank" href="http://www.hifreud.com">orientsoft</a></div>
            <br />
          </header>
          <article class="post-content">
            <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">第一章 概述</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">第二章 部署与安装</a>    <ul>
      <li><a href="#section-2" id="markdown-toc-section-2">2.1 环境要求</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">2.2 前台</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">2.3 后台</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">2.4 常见问题</a></li>
      <li><a href="#section-6" id="markdown-toc-section-6">2.5 访问网址</a></li>
    </ul>
  </li>
  <li><a href="#cert" id="markdown-toc-cert">第三章 cert</a>    <ul>
      <li><a href="#section-7" id="markdown-toc-section-7">3.1 添加</a></li>
      <li><a href="#section-8" id="markdown-toc-section-8">3.2 修改</a></li>
      <li><a href="#section-9" id="markdown-toc-section-9">3.3 删除</a></li>
      <li><a href="#section-10" id="markdown-toc-section-10">3.4 查看密码</a></li>
    </ul>
  </li>
  <li><a href="#collector" id="markdown-toc-collector">第四章 collector</a>    <ul>
      <li><a href="#section-11" id="markdown-toc-section-11">4.1 添加</a></li>
      <li><a href="#section-12" id="markdown-toc-section-12">4.2 修改</a></li>
      <li><a href="#section-13" id="markdown-toc-section-13">4.3 删除</a></li>
    </ul>
  </li>
  <li><a href="#parser" id="markdown-toc-parser">第五章 parser</a>    <ul>
      <li><a href="#section-14" id="markdown-toc-section-14">5.1 添加</a></li>
      <li><a href="#section-15" id="markdown-toc-section-15">5.2 修改</a></li>
      <li><a href="#section-16" id="markdown-toc-section-16">5.3 删除</a></li>
      <li><a href="#parser-1" id="markdown-toc-parser-1">5.4 Parser脚本</a></li>
    </ul>
  </li>
  <li><a href="#status" id="markdown-toc-status">第六章 status</a>    <ul>
      <li><a href="#active-passiveagent-status" id="markdown-toc-active-passiveagent-status">6.1 active ／passive／agent status</a></li>
      <li><a href="#parser-status" id="markdown-toc-parser-status">6.2 parser status</a></li>
    </ul>
  </li>
  <li><a href="#history" id="markdown-toc-history">第七章 history</a>    <ul>
      <li><a href="#section-17" id="markdown-toc-section-17">7.1 查询</a></li>
    </ul>
  </li>
  <li><a href="#section-18" id="markdown-toc-section-18">第八章 常用流程</a>    <ul>
      <li><a href="#section-19" id="markdown-toc-section-19">8.1 数据采集流程</a></li>
      <li><a href="#section-20" id="markdown-toc-section-20">8.2 数据采集-解析流程</a></li>
      <li><a href="#section-21" id="markdown-toc-section-21">8.3 外部脚本监控流程</a></li>
      <li><a href="#section-22" id="markdown-toc-section-22">8.4 状态监控流程</a></li>
    </ul>
  </li>
</ul>

<h1 id="section">第一章 概述</h1>

<p>conalog是集数据采集，解析，状态管理，日志管理为一体的工具，可以有效的对自编制脚本进行管理和监控，
也可以监控orientsoft软件组件的状态,主要模块分为五部分：cert，collector，parser，status，history。</p>

<h1 id="section-1">第二章 部署与安装</h1>

<h2 id="section-2">2.1 环境要求</h2>

<p>Linux版本：^3.0<br />
Node版本：6.9 (LTS)<br />
Mongo版本：^3.0<br />
Redis版本：^3.0</p>

<h2 id="section-3">2.2 前台</h2>

<ol>
  <li>获取conglog-front代码；</li>
  <li>修改/conalog-front/config 目录下的config.js 文件，将conalogHost的值改为虚拟机的IP地址；</li>
</ol>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">conalogHost:’192.168.0.244’;</code></pre></div>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">//config.js配置文件
var config = {
  logLevel: &#39;info&#39;,
  conalogHost: &#39;192.168.0.244&#39;,
  conalogPort: 17527,
  conalogFrontPort: 7527,
  mongoUrl: &#39;mongodb://127.0.0.1:27017/conalog&#39;,
  redisUrl: &#39;redis://127.0.0.1:6379&#39;,
  activeCollectorPrefix: &#39;ac_&#39;,
  passiveCollectorPrefix: &#39;pc_&#39;,
  apiGatewayHost: &#39;apigateway&#39;,
  apiGatewayPort: 1234,
  apiGatewayToken: &#39;12345&#39;,
  apiGatewayUid: &#39;67890&#39;,
  apiGatewayType: &#39;user&#39;
}
module.exports = config;</code></pre></div>

<ol>
  <li>安装模块：npm i；</li>
  <li>执行：gulp install；</li>
  <li>编译：gulp go；</li>
  <li>启动：npm start；</li>
</ol>

<h2 id="section-4">2.3 后台</h2>

<ol>
  <li>获取conalog代码;</li>
  <li>修改/ conalog /config 目录下的config.js 文件，将conalogHost，conalogFrontHost 以及nanomsgHost 的值改为虚拟机的IP地址；</li>
</ol>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">conalogHost:’192.168.0.244’;
conalogFrontHost:’192.168.0.244’;
nanomsgHost:’192.168.0.244’;</code></pre></div>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">//config.js配置文件
var config = {
  logLevel: &#39;info&#39;,
  logLifespan: 604800000, // 7 days, in ms
  userAuthSwitch: false,
  conalogHost: &#39;192.168.0.244&#39;,
  conalogPort: 17527,
  conalogFrontHost: &#39;192.168.0.244&#39;,
  conalogFrontPort: 7527,
  mongoUrl: &#39;mongodb://127.0.0.1:27017/conalog&#39;,
  redisUrl: &#39;redis://127.0.0.1:6379&#39;,
  nanomsgProtocol: &#39;tcp://&#39;,
  nanomsgHost: &#39;192.168.0.244&#39;,
  nanomsgRequestPort: 17537,
  nanomsgStartPort: 17627,
  nanomsgEndPort: 17927,
  filebeatChannel: &#39;conalog-filebeat&#39;,
  parserPathPrefix: &#39;./parser/&#39;
}
module.exports = config;</code></pre></div>

<ol>
  <li>安装模块：npm i；</li>
  <li>执行：gulp install；</li>
  <li>编译：gulp go；</li>
  <li>启动：node bin/www；</li>
</ol>

<h2 id="section-5">2.4 常见问题</h2>

<ul>
  <li>每次修改代码后要运行 gulp go 使修改生效;</li>
  <li>执行gulp install报错 “无法找到gulp” 时即执行 ‘npm install -g gulp’；</li>
  <li>运行npm i命令后遇到缺少模块的问题时，npm install 该模块；</li>
</ul>

<h2 id="section-6">2.5 访问网址</h2>

<p>conalogHost:conalogFrontPort<br />
如：’192.168.0.244:7527’</p>

<p>登录界面：（账号：admin 初始密码：admininitpass）
<img src="/styles/images/logIn.png" alt="" /></p>

<p>登录成功：
<img src="/styles/images/homePage.png" alt="" /></p>

<h1 id="cert">第三章 cert</h1>

<p>cert功能：存储用于远程SSH登录的账号。Conalog可以通过ssh连接登陆虚拟机，随后可以执行Shell命令。</p>

<h2 id="section-7">3.1 添加</h2>

<ol>
  <li>点击左上角添加按钮：
<img src="/styles/images/addCert.png" alt="" /></li>
  <li>
    <p>弹出添加框，填写信息：<br />
填写规范：  <br />
Host: 192.168.0.244，（虚拟机IP地址）<br />
Port：22，（端口号）<br />
User：voyager，（虚拟机用户名）<br />
Password：welcome1，（虚拟机用户名对应的密码）
<img src="/styles/images/addCertModal.png" alt="" /></p>
  </li>
  <li>添加成功：
<img src="/styles/images/addCertSuccess.png" alt="" /></li>
</ol>

<h2 id="section-8">3.2 修改</h2>

<ol>
  <li>点击edit按钮：
<img src="/styles/images/editCert.png" alt="" /></li>
  <li>弹出修改框，修改信息：
<img src="/styles/images/editCertModal.png" alt="" /></li>
  <li>保存即点击确认，不保存即点击取消；</li>
</ol>

<h2 id="section-9">3.3 删除</h2>

<ol>
  <li>点击delete按钮： 
<img src="/styles/images/deleteCert.png" alt="" /></li>
  <li>弹出确定框，点击确认即删除，点击取消即取消删除：
<img src="/styles/images/deleteCertModal.png" alt="" /></li>
</ol>

<h2 id="section-10">3.4 查看密码</h2>

<ol>
  <li>鼠标放在图标上，password即显示为明文密码，鼠标移开，密码即为隐藏密码；
<img src="/styles/images/checkPassword.png" alt="" /></li>
</ol>

<h1 id="collector">第四章 collector</h1>

<p>collector作用：执行命令，采集数据。<br />
分为active、passive和agent collector三种类型：  
1. active collector是根据设定的时间间隔/每天固定时间点/单次执行命令，一般用于编写脚本主动读取日志；  
2. passive collector是执行一次命令并一直保持执行状态，通常用于tail -F等长期执行的任务；  
3. agent collector是从Filebeat统一的日志更新通道接收数据，根据文件通配符规则，把同类型的日志，分发到指定的通道中。  </p>

<h2 id="section-11">4.1 添加</h2>

<ol>
  <li>active collector：<br />
填写规范：<br />
Name: 无要求（<strong>输出数据的redis通道名默认为 ac_name</strong>）;<br />
Type:<br />
       interval : 每间隔一段时间执行一次命令；<br />
       time ：每天定点执行命令；<br />
       oneshot：只执行一次；<br />
Trigger: 对应type类型设置时间；<br />
Command: 执行命令；<br />
Parameter: 参数；<br />
Host: 虚拟机IP；<br />
Encoding: 根据电脑系统选择对应的编码；<br />
Channel: redis/nanomsg;<br />
Description: collector usage &amp; source &amp; description；
<img src="/styles/images/addActiveCollector.png" alt="" /></li>
  <li>passive collector：<br />
填写规范：<br />
Name: 无要求（<strong>输出数据的redis通道名默认为 pc_name</strong>);<br />
Type:
       LongScript: 执行用户指定的命令;
       File Tail: 执行 tail -F 命令（快捷方式);    
Command: 执行命令;    
Parameter: 参数;
Host: 虚拟机IP；<br />
Encoding: 根据电脑系统选择对应的编码；<br />
Channel: redis/nanomsg;<br />
Description: collector usage&amp;source&amp;description；
<img src="/styles/images/addPassiveCollector.png" alt="" /></li>
  <li>agent collector<br />
 3.1 点击添加按钮：
<img src="/styles/images/addAgentCollector.png" alt="" />
 3.2 弹出添加框，填写信息：<br />
   填写规范<br />
   Name: 无要求 （<strong>输出数据的redis通道名默认为 agt_name</strong>）；<br />
   Parameter: 文件名的正则表达式;    
   Encoding: 根据电脑系统选择对应的编码；<br />
   Channel: redis/nanomsg;<br />
   Description: collector usage &amp; source &amp; description；
<img src="/styles/images/addAgentCollectorContent.png" alt="" /></li>
</ol>

<h2 id="section-12">4.2 修改</h2>

<ol>
  <li>active collector：<br />
勾选要修改的项，再点击edit按钮，在页面上方即可出现对应的信息，修改之后保存点击save按钮，不保存点击clear按钮；
<img src="/styles/images/editActiveCollector.png" alt="" />
<img src="/styles/images/editActiveCollectorContent.png" alt="" /></li>
  <li>passive collector：<br />
勾选要修改的项，再点击edit按钮，在页面上方即可出现对应的信息，修改之后保存点击save按钮，不保存点击clear按钮；
<img src="/styles/images/editPassiveCollector.png" alt="" />
<img src="/styles/images/editPassiveCollectorContent.png" alt="" /></li>
  <li>agent collector:<br />
点击edit按钮，即会弹出修改框，修改之后保存点击确定按钮，不保存点击取消按钮；
<img src="/styles/images/editAgentCollector.png" alt="" />
<img src="/styles/images/editAgentCollectorContent.png" alt="" /></li>
</ol>

<h2 id="section-13">4.3 删除</h2>

<ol>
  <li>active collector：<br />
勾选要删除的项，再点击delete按钮，弹出确定框，删除点击确定，不删除点击取消；
<img src="/styles/images/editActiveCollector.png" alt="" />
<img src="/styles/images/deleteActiveCollector.png" alt="" /></li>
  <li>passive collector：<br />
勾选要删除的项，再点击delete按钮，弹出确定框，删除点击确定，不删除点击取消；
<img src="/styles/images/editPassiveCollector.png" alt="" />
<img src="/styles/images/deletePassiveCollector.png" alt="" /></li>
  <li>agent collector:<br />
点击delete按钮，弹出确定框，删除点击确定，不删除点击取消；
<img src="/styles/images/deleteAgentCollector.png" alt="" />
<img src="/styles/images/deleteAgentCollectorModal.png" alt="" /></li>
</ol>

<h1 id="parser">第五章 parser</h1>

<p>parser的功能：parser通过调用脚本把文件中的文本数据转换成结构数据，同一个parser可以同时启动多个实例。</p>

<h2 id="section-14">5.1 添加</h2>

<ol>
  <li>点击左上角添加按钮：
<img src="/styles/images/addParser.png" alt="" /></li>
  <li>弹出添加框，填写内容，所有选项均为必填：<br />
填写规范：<br />
Name：esb   (无要求)；<br />
Path：esb.js   (parser脚本的路径，可以使用相对路径，默认当前目录为CONALOG_PATH/parser/);    
Parameter：esb=1   (脚本对应的参数)；<br />
InputChannel：ac_mobile (输入数据通道名)；<br />
OutputChannel：esb (输出数据通道名，<strong>Conalog会自动给输出通道名加前缀p_</strong>)；<br />
InputType：RedisChannel  (RedisChannel/NanomsgQueue);   
OutputType：RedisChannel  (RedisChannel/NanomsgQueue);
Remark：input:… output:{…}   (parser脚本作用描述，输入输出数据格式等);
<img src="/styles/images/addParserContent.png" alt="" /></li>
  <li>添加成功：
<img src="/styles/images/addParserSuccess.png" alt="" /></li>
</ol>

<h2 id="section-15">5.2 修改</h2>

<ol>
  <li>点击edit按钮：
<img src="/styles/images/editParser.png" alt="" /></li>
  <li>弹出修改框，修改信息：
<img src="/styles/images/editParserModal.png" alt="" /></li>
  <li>保存即点击确认，不保存即点击取消；</li>
</ol>

<h2 id="section-16">5.3 删除</h2>

<ol>
  <li>点击delete按钮： 
<img src="/styles/images/deleteParser.png" alt="" /></li>
  <li>弹出确定框，点击确认即删除，点击取消即取消删除：
<img src="/styles/images/deleteParserModal.png" alt="" /></li>
</ol>

<h2 id="parser-1">5.4 Parser脚本</h2>

<ol>
  <li>Parser脚本用ES2015编写，默认存放在CONALOG_PATH/parser-src目录下；</li>
  <li>脚本编写完成后，在conalog主目录执行gulp compile-parser即可将ES2015的Parser编译成ES5代码，存放在CONALOG_PATH/parser目录下；</li>
  <li>请参考<a href="https://github.com/Orientsoft/conalog/wiki/ParserDev">Conalog Parser开发指南</a>进行Parser的开发；</li>
  <li>可以用Git为每个部署项目开新分支，并提交新开发的parser到github conalog项目，分支准备好后请在conalog项目提交Pull Request。请咨询<a href="https://github.com/xiedidan">项目管理员</a>获取写入权限。</li>
</ol>

<h1 id="status">第六章 status</h1>

<p>status作用：展示active collector，passive collector，agent collector以及parser执行的状态和结果，可以控制启停。</p>

<h2 id="active-passiveagent-status">6.1 active ／passive／agent status</h2>

<p>6.1.1 控制
点击operation下的切换按钮，即可来回开启和关闭；</p>

<ol>
  <li>关闭状态：
<img src="/styles/images/stop.png" alt="" /></li>
  <li>开启状态：
<img src="/styles/images/start.png" alt="" /></li>
</ol>

<p>6.1.2 查看
1. 执行成功：<br />
Exec Count: 执行次数；<br />
Last Activity Time: 最后一次执行时间；<br />
Last Activity Message: 最后一次执行信息；<br />
     stdout: 执行过程中输出的正确数据；<br />
     stderr:执行过程中发现的错误；<br />
<img src="/styles/images/statusMessage.png" alt="" />
2. 执行失败：<br />
Exec Count: 0；<br />
Last Activity Time: N/A；<br />
Last Activity Message: N/A / Pending；<br />
<img src="/styles/images/start.png" alt="" />
3. 查看redis通道数据:<br />
打开终端；<br />
输入 redis-cli；<br />
subscribe redis channel (active collector即为 ac_[collector name], passive collector 即为 pc _[collector name]);</p>

<h2 id="parser-status">6.2 parser status</h2>

<p>6.2.1 启动parser实例
1. 点击start按钮：
<img src="/styles/images/startParserInstance.png" alt="" />
2. 弹出确认框,点击确定即生成实例，点击取消即取消生成：
<img src="/styles/images/startParserInstanceModal.png" alt="" /></p>

<p>6.2.2 查看parser实例
1. 查看实例总数：
<img src="/styles/images/instanceNum.png" alt="" />
2. 查看实例内容，点击下拉按钮,即可显示所有实例：
<img src="/styles/images/showParserInstance.png" alt="" />
<img src="/styles/images/parserInstanceDetail.png" alt="" />
3. 查看redis通道数据:<br />
打开终端；<br />
输入 redis-cli；<br />
subscribe redis channel (parser outputChannel);</p>

<p>6.2.3 删除parser实例
1. 点击stop按钮；
<img src="/styles/images/deleteParserInstance.png" alt="" />
2. 弹出确认框,点击确认即删除，点击取消即取消删除：
<img src="/styles/images/stopParserInstanceModal.png" alt="" /></p>

<h1 id="history">第七章 history</h1>

<p>history作用：保存日志，默认数据保存时限为7天。</p>

<h2 id="section-17">7.1 查询</h2>

<ol>
  <li>根据EventID进行查询：
<img src="/styles/images/history.png" alt="" /></li>
  <li>点击下拉按钮，查看具体内容：
<img src="/styles/images/showHistory.png" alt="" />
<img src="/styles/images/historyContent.png" alt="" /></li>
</ol>

<h1 id="section-18">第八章 常用流程</h1>

<h2 id="section-19">8.1 数据采集流程</h2>

<ol>
  <li>添加cert；</li>
  <li>添加 collector；</li>
  <li>status里启动并查看结果；</li>
</ol>

<h2 id="section-20">8.2 数据采集-解析流程</h2>

<ol>
  <li>添加cert；</li>
  <li>添加collector, 根据需求选择不同的collector类型；<br />
Active collector 输出数据的redis通道名为 ac_[collector name]； <br />
Passive collector 输出数据的redis通道名为 pc_[collector name]； <br />
Agent collector 输出数据的redis通道名为 agt_[collector name]；</li>
  <li>添加parser，InputChannel为collector数据输出通道名，collector采集的数据则可以进入Parser；</li>
  <li>status里启动并查看结果；</li>
</ol>

<h2 id="section-21">8.3 外部脚本监控流程</h2>

<ol>
  <li>添加cert；</li>
  <li>添加 Active collector，定时启动外部脚本；</li>
  <li>status里启动并查看结果；</li>
</ol>

<h2 id="section-22">8.4 状态监控流程</h2>

<ol>
  <li>采集Orientsoft内部软件的日志;</li>
  <li>history进行展示；</li>
</ol>


          </article>
        </div>
      </div>
      <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
            


  <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
<script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
<script>
var cloudTieConfig = {
  url: document.location.href, 
  sourceId: "",
  productKey: "e68668572a574120ad554fab5b49d365",
  target: "cloud-tie-wrapper"
};
var yunManualLoad = true;
Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);
</script>




          </div>
        </article>
      </div>
    </div>
  </div>
</div>


<footer class="footer" role="contentinfo">
  <div class="container">
    <p class="copyright">Copyright &copy; 2016-2017 <a href="http://www.hifreud.com/Resume.io/"><code>orientsoft</code></a>.</p>
    <!--<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, themed from <a href="http://lesscss.cn/">Less</a>, refactored by <a href="http://www.hifreud.com/">Freud Kang</a></p>-->
  </div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</body>
</html>
